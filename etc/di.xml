<config 
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
  xsi:noNamespaceSchemaLocation="../../../../../lib/internal/Magento/Framework/ObjectManager/etc/config.xsd"
>
  <type name="Magento\Framework\View\Element\UiComponent\DataProvider\CollectionFactory">
    <arguments>
      <argument name="collections" xsi:type="array">
        <item name="magefan_mymodule_greetingmessage_listing_data_source" xsi:type="string">
          Magefan\MyModule\Model\ResourceModel\GreetingMessage\Grid\Collection
        </item>
      </argument>
    </arguments>
  </type>
  <type name="Magefan\MyModule\Controller\Page\View">
    <plugin name="Magefan_MyModule_Plugin" type="Magefan\MyModule\Plugin\MyPlugin" sortOrder="10" disabled="false" />
  </type>
  <virtualType 
    name="Magefan\MyModule\Model\ResourceModel\GreetingMessage\Grid\Collection" 
    type="Magento\Framework\View\Element\UiComponent\DataProvider\SearchResult"
  >
    <arguments>
      <argument name="mainTable" xsi:type="string">
        magefan_mymodule_greeting_message
      </argument>
      <argument name="resourceModel" xsi:type="string">
        Magefan\MyModule\Model\ResourceModel\GreetingMessage
      </argument>
    </arguments>
  </virtualType>
</config>